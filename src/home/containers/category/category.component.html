<!--  -->
<div class="container">
    <div class="banner-shop">
        <div class="banner-shop-thumb" *ngIf="categoryNav">
            <a href="#"><img [src]="categoryNav?.image_urls[0]" alt=""></a>
        </div>
        <div class="banner-shop-info text-center">
            <h2>{{categoryNav?.name}}</h2>
            <!-- <p>Apple, Samsung, LG</p> -->
        </div>
    </div>

    <nav aria-label="breadcrumb">
        <ol class="breadcrumb bg-dark text-white">
            <li class="breadcrumb-item"><a routerLink="/">Home</a></li>
            <li class="breadcrumb-item" [class.active]="sub_category == null && sub_sub_category == null ">
                {{categoryNav?.name}}</li>
            <li class="breadcrumb-item" [class.active]="sub_sub_category == null" *ngIf="sub_category">
                {{sub_category?.name}}</li>
            <li class="breadcrumb-item active" *ngIf="sub_sub_category">{{sub_sub_category?.name}}</li>
        </ol>
    </nav>

    <div class="alert alert-danger alert-dismissible show" role="alert" *ngIf="errorMessage.length > 0">
        <strong>Failed! </strong> {{ errorMessage }}
        <button type="button" class="close" (click)="onClose()">
            <span aria-hidden="true">&times;</span>
        </button>
    </div>

    <ng-template #editProfileModal let-modal>
        <detail-modal [product]="product" [prodImageUrl]="prodImageUrl" [cartProduct]="product_list_cart"
            (dismiss)="modal.dismiss()" (cart)="onAddToCart($event)"></detail-modal>
    </ng-template>

    <div class="row">

        <div class="col-md-3 col-12">
            <!-- <side-nav-collapse [data]="categoryNav" [title]="categoryNav?.name" (resp)="onSideNavClick($event)">
            </side-nav-collapse> -->

            <ul class="list-cat-icon">
                <li *ngFor="let cat of sideNav.category" (click)="getProductByCategory(cat.slug)">
                    <img class="category-image" [src]="'assets/images/icons/'+cat.slug+'.svg'" />
                    <span>{{ cat.name }}</span>
                </li>
            </ul>

            <!-- <price-filter (resp)="onPriceFilter($event)"></price-filter>

            <best-sellers></best-sellers>

            <brands></brands> -->
        </div>

        <div class="col-md-9 col-12">
            <div class="products mb-3">
                <!-- Show sub-categories -->
                <!-- <div *ngIf="!productPage && categoryNav && (!sub_category || sub_category?.sub_sub_category.length == 0)"
                    class="row m-0">
                    <div class="col-auto pr-0" *ngFor="let sub_cat of categoryNav?.sub_category">
                        <category-component [data]="sub_cat" (select)="onSelectSubCategory($event)">
                        </category-component>
                    </div>
                </div>

                <div *ngIf="!productPage && sub_category?.sub_sub_category.length> 0" class="row m-0">
                    <div class="col-auto pr-0" *ngFor="let sub_cat of sub_category?.sub_sub_category">
                        <category-component [data]="sub_cat" (select)="onSelectSubSubCategory($event)">
                        </category-component>
                    </div>
                </div> -->


                <!-- <div class="products-bar clearfix" *ngIf="productPage?.docs?.length">
                    <pagination [page]="productPage" (paginate)="onChangePage($event)"></pagination>
                </div> -->

                <loading *ngIf="loading"></loading>
                <div class="row clearfix m-0" *ngIf="!loading && productPage">
                    <div class="col-12 text-center" *ngIf="productPage.docs.length == 0">
                        <i class="fa fa-frown-o"></i> Sorry no product found
                    </div>
                    <div class="col-lg-3 col-md-4 col-6 p-0" *ngFor="let product of productPage?.docs">
                        <product2 [product]="product" [thumbUrl]="prodThumbUrl" (cart)="onAddToCart($event)"
                            (shortDetails)="onShortDetails(editProfileModal, $event)"></product2>
                        <!-- <product1 [product]="product" [imageUrl]="prodImageUrl" [thumbUrl]="prodThumbUrl"
                            (cart)="onAddToCart($event)" (shortDetails)="onShortDetails($event)"></product1> -->
                    </div>
                    <div class="col-12" *ngIf="productPage?.docs?.length">
                        <pagination [page]="productPage" (paginate)="onChangePage($event)"></pagination>
                    </div>
                </div>
            </div>
        </div>
    </div>